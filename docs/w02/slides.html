<!DOCTYPE html>
<html lang="en"><head>
<link href="../favicon.png" rel="icon" type="image/png">
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/quarto-contrib/videojs/video.min.js"></script>
<link href="../site_libs/quarto-contrib/videojs/video-js.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.40">

  <meta name="author" content="Jeff Jacobs">
  <title>DSAN 5650 – Week 2: Probabilistic Graphical Models (PGMs)</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-e397f2a0b5ffddf73930e3f311e71a41.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/simplemenu/simplemenu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/dreampulse/computer-modern-web-font@master/fonts.css"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Barrio&amp;display=swap" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Week 2: Probabilistic Graphical Models (PGMs)</h1>
  <p class="subtitle"><em>DSAN 5650: Causal Inference for Computational Social Science</em><br><span class="subsubtitle">Summer 2025, Georgetown University</span></p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Jeff Jacobs 
</div>
        <p class="quarto-title-affiliation">
            <a href="mailto:jj1088@georgetown.edu"><code>jj1088@georgetown.edu</code></a>
          </p>
    </div>
</div>

  <p class="date">Wednesday, May 28, 2025</p>
</section>
<section id="schedule" class="title-slide slide level1 smaller crunch-title crunch-callout code-90 center" data-name="Schedule">
<h1>Schedule</h1>
<p>Today’s Planned Schedule:</p>
<table class="caption-top">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 64%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Start</th>
<th style="text-align: left;">End</th>
<th style="text-align: left;">Topic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Lecture</strong></td>
<td style="text-align: left;">6:30pm</td>
<td style="text-align: left;">6:45pm</td>
<td style="text-align: left;"><a href="#/ta-intros">TA Intros →</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">6:45pm</td>
<td style="text-align: left;">7:00pm</td>
<td style="text-align: left;"><a href="#/hw1-questions-andor-concerns">HW1 Questions and Concerns →</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">7:00pm</td>
<td style="text-align: left;">7:30pm</td>
<td style="text-align: left;"><a href="#/motivation-ii-causal-inference">Motivating Examples: Causal Inference →</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">7:30pm</td>
<td style="text-align: left;">7:45pm</td>
<td style="text-align: left;"><a href="#/your-first-probabilistic-graphical-model">Your First Probabilistic Graphical Model! →</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Break!</strong></td>
<td style="text-align: left;">7:45pm</td>
<td style="text-align: left;">8:00pm</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">8:00pm</td>
<td style="text-align: left;">9:00pm</td>
<td style="text-align: left;"><a href="#/hidden-markov-models-(hmms-are-our-ur-pgms)">PGM “Lab” →</a></td>
</tr>
</tbody>
</table>
<div class="hidden">

</div>
<div class="hidden">
<p><span class="math display">\[
\DeclareMathOperator*{\argmax}{argmax}
\DeclareMathOperator*{\argmin}{argmin}
\newcommand{\bigexp}[1]{\exp\mkern-4mu\left[ #1 \right]}
\newcommand{\bigexpect}[1]{\mathbb{E}\mkern-4mu \left[ #1 \right]}
\newcommand{\definedas}{\overset{\small\text{def}}{=}}
\newcommand{\definedalign}{\overset{\phantom{\text{defn}}}{=}}
\newcommand{\eqeventual}{\overset{\text{eventually}}{=}}
\newcommand{\Err}{\text{Err}}
\newcommand{\expect}[1]{\mathbb{E}[#1]}
\newcommand{\expectsq}[1]{\mathbb{E}^2[#1]}
\newcommand{\fw}[1]{\texttt{#1}}
\newcommand{\given}{\mid}
\newcommand{\green}[1]{\color{green}{#1}}
\newcommand{\heads}{\outcome{heads}}
\newcommand{\iid}{\overset{\text{\small{iid}}}{\sim}}
\newcommand{\lik}{\mathcal{L}}
\newcommand{\loglik}{\ell}
\DeclareMathOperator*{\maximize}{maximize}
\DeclareMathOperator*{\minimize}{minimize}
\newcommand{\mle}{\textsf{ML}}
\newcommand{\nimplies}{\;\not\!\!\!\!\implies}
\newcommand{\orange}[1]{\color{orange}{#1}}
\newcommand{\outcome}[1]{\textsf{#1}}
\newcommand{\param}[1]{{\color{purple} #1}}
\newcommand{\pgsamplespace}{\{\green{1},\green{2},\green{3},\purp{4},\purp{5},\purp{6}\}}
\newcommand{\pedge}[2]{\require{enclose}\enclose{circle}{~{#1}~} \rightarrow \; \enclose{circle}{\kern.01em {#2}~\kern.01em}}
\newcommand{\pnode}[1]{\require{enclose}\enclose{circle}{~{#1}~}}
\newcommand{\purp}[1]{\color{purple}{#1}}
\newcommand{\sign}{\text{Sign}}
\newcommand{\spacecap}{\; \cap \;}
\newcommand{\spacewedge}{\; \wedge \;}
\newcommand{\tails}{\outcome{tails}}
\newcommand{\Var}[1]{\text{Var}[#1]}
\newcommand{\bigVar}[1]{\text{Var}\mkern-4mu \left[ #1 \right]}
\]</span></p>
</div>
<div class="hidden">
<style>
.barrio-jj {
  font-family: "Barrio", system-ui;
  /* font-weight: 400; */
  font-style: normal;
}
</style>
</div>
</section>

<section>
<section id="ta-intros" class="title-slide slide level1 center" data-stack-name="TA Intros">
<h1>TA Intros</h1>

</section>
<section id="courtney-green" class="slide level2 crunch-title text-90">
<h2>Courtney Green</h2>
<p><strong>Background:</strong> BA in Public Policy &amp; Leadership, now interested in using data to examine structural disparities.</p>
<p><strong>Interests &amp; what I can help with:</strong> How sociodemographic factors (e.g., race, gender, income, immigration status, education level) shape policy outcomes and institutional practices in areas like criminal justice, housing, healthcare, education, and environment.</p>
<ul>
<li><p><strong>Ask me about:</strong> Counterfactual balancing, handling messy or privacy-limited datasets, and framing causal questions around inequality.</p></li>
<li><p>Reach out if you’re thinking about a final project that touches social systems, systemic inequity, or fairness!</p></li>
</ul>
</section>
<section id="what-got-me-interested-in-causal-inference" class="slide level2 crunch-title text-75">
<h2>What Got Me Interested in Causal Inference</h2>
<p><strong>5000 Project: Over-Policing and Wrongful Convictions in Illinois</strong></p>
<ul>
<li><strong>Motivation:</strong> Explore what demographic factors predict wrongful convictions using real exoneration data.</li>
<li><strong>Challenge:</strong> No data on “non-exonerated innocents,” so I (with prof’s help) created a counterfactual dataset by sampling from the incarcerated population</li>
<li><strong>Method:</strong> Trained models (logistic regression, random forest, KNN) on a balanced dataset of 548 exonerated and 548 non-exonerated individuals</li>
<li><strong>Finding:</strong> Race and geography (esp.&nbsp;Cook Count/Chicago) were the strongest predictors of exoneration</li>
<li><strong>Takeaway:</strong> Questions about systemic bias can’t be answered with just descriptive stats, you need counterfactual reasoning and causal inference</li>
</ul>
<p><span style="font-size: 80%;"><a href="https://crg123.georgetown.domains/projects/dsan-5000/_site/technical-details/data-balancing/main.html">(Optional) View the counterfactual setup</a></span></p>
</section>
<section id="wendy-hu" class="slide level2 crunch-title text-82 crunch-ul">
<h2>Wendy Hu</h2>
<ul>
<li><strong>Background:</strong> BS in Social Work, passionate about advancing social equity through computational tools</li>
<li><strong>Interest:</strong> I bring a background in social welfare, public health, and NGO data, with experience analyzing behavioral and institutional outcomes. My work spans Indigenous health, gender equity, and trauma-informed service design—always with a focus on equity, system change, and policy relevance.</li>
<li><strong>Ask me about:</strong> Framing social justice questions in data terms, working with community or clinical datasets and interpreting model results in context.</li>
<li>If you’re designing a project around health, inequality, nonprofit impact, or any socially embedded issue—I’d love to help bridge rigor and relevance.</li>
</ul>
</section>
<section id="jeffs-hw1-updateapology" class="slide level2">
<h2>Jeff’s HW1 Update/Apology</h2>
<ul>
<li>Basically… I goofed by trying to shove a homework into the first two weeks of class 😭</li>
<li>Last week was “setting the table”, so there are a few (multiple-choice) questions on that</li>
<li>But, really only makes sense to have HW starting from <strong>end of today</strong>, once we’ve introduced <strong>PGMs</strong>, the <strong>language</strong> we need to actually do Causal Computational Social Science!</li>
</ul>
<center>
<p><i class="bi bi-exclamation-triangle"></i> <strong>Due date pushed</strong> to <strong>Friday, June 6, 5:59pm</strong> <i class="bi bi-exclamation-triangle"></i></p>
</center>
</section>
<section id="hw1-detail-plz-dont-hate-me" class="slide level2 crunch-title smaller title-09">
<h2>HW1 Detail (Plz Don’t Hate Me 🙈)</h2>
<p><em>(The main reason this is taking me so long)</em></p>
<ul>
<li>Two key libraries for “main” course content (HW2 onwards):
<ul>
<li>In R: <a href="https://github.com/rmcelreath/rethinking"><code>rethinking</code></a>, “lite” version of <a href="https://mc-stan.org/">Stan</a></li>
<li>In Python: <a href="https://www.pymc.io/welcome.html"><code>PyMC</code></a></li>
</ul></li>
<li>Both are overkill for current unit: lots of work required to “turn off” fancy features and <a href="https://discourse.pymc.io/t/bayes-nets-belief-networks-and-pymc/5150/2">implement basic PGMs</a></li>
<li><span class="math inline">\(\leadsto\)</span> Only way I know to achieve two goals:
<ul>
<li><i class="bi bi-1-circle"></i> Learning <strong>simple PGMs first</strong>, as tools for <strong>thinking</strong>, before adding in additional full-on <strong>coding</strong> baggage of Stan/PyMC</li>
<li><i class="bi bi-2-circle"></i> Having an entire <strong>textbook</strong> on these base PGMs that you can use as reference</li>
</ul></li>
<li>Is to use [small, restricted] subset of JavaScript, called <a href="http://webppl.org/">WebPPL</a>, because…</li>
</ul>
<center>
<p><a href="http://probmods.org/" class="boxed-cb">http://probmods.org/</a></p>
</center>
</section></section>
<section>
<section id="motivating-examples-causal-inference" class="title-slide slide level1 center" data-stack-name="Causal Inference">
<h1>Motivating Examples: Causal Inference</h1>
<ul>
<li>The <em>methodology</em> we’ll use to <em>draw inferences</em> about social phenomena from data</li>
</ul>
</section>
<section id="disclaimer-unfortunate-side-effects-of-engaging-seriously-with-causality" class="slide level2 smaller crunch-title title-10 crunch-p crunch-img">
<h2>Disclaimer: Unfortunate Side Effects of Engaging Seriously with Causality</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><i class="bi bi-1-circle"></i> You’ll no longer be able to read “scientific” writing without striking this expression (involuntarily):</p>
</div><div class="column" style="width:50%;">
<p><i class="bi bi-2-circle"></i> “Scientific” talks will begin to sound like the following:</p>
</div></div>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[5,5]">
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="expression" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/hrngg.png" class="quarto-figure quarto-figure-center" width="300"></p>
</figure>
</div>
</div>
<div id="looked-at-the-data" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<video id="video_shortcode_videojs_video1" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://jpj.georgetown.domains/dsan5650-scratch/looked_at_the_data.mp4"></video>
</div>
</div>
</div>
</section>
<section id="blasting-off-into-causality" class="slide level2 title-10 crunch-title not-title-slide">
<h2>Blasting Off Into Causality!</h2>

<img data-src="images/posadism_causal.jpg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="data-generating-processes-dgps" class="slide level2 title-09 text-85 crunch-title crunch-ul crunch-quarto-figure crunch-quarto-layout-panel crunch-li-5">
<h2>Data-Generating Processes (DGPs)</h2>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[55,45]" data-layout-align="center">
<div class="quarto-layout-row quarto-layout-valign-center">
<div id="dgps-5100" class="quarto-layout-cell" style="flex-basis: 55.0%;justify-content: center;">
<ul>
<li>You saw this in DSAN 5100!</li>
<li>«<span class="math inline">\(X_1, \ldots, X_n\)</span> drawn i.i.d. Normal, mean <span class="math inline">\(\mu\)</span> variance <span class="math inline">\(\sigma^2\)</span>» characterizes <strong>DGP of <span class="math inline">\((X_1, \ldots, X_n)\)</span></strong></li>
</ul>
</div>
<div class="quarto-layout-cell" style="flex-basis: 45.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/hmm_clusters_single_dist.svg" class="quarto-figure quarto-figure-center" width="280"></p>
</figure>
</div>
</div>
</div>
</div>
<ul>
<li>5650: <strong>Dive into DGPs</strong>, rather than treating as black box/footnote to Law of Large Numbers, so we can move [<em>asymptotically!</em>]…</li>
<li><strong>From <em>associational</em> statements</strong>:
<ul>
<li>«<span class="math inline">\(\underbrace{\text{An increase}}_{\small\text{noun}}\)</span> in <span class="math inline">\(X\)</span> by 1 is associated with increase in <span class="math inline">\(Y\)</span> by <span class="math inline">\(\beta\)</span>»</li>
</ul></li>
<li><strong>To <em>causal</em> ones</strong>: «<span class="math inline">\(\underbrace{\text{Increasing}}_{\small\text{verb}}\)</span> <span class="math inline">\(X\)</span> by 1 <em>causes</em> <span class="math inline">\(Y\)</span> to increase by <span class="math inline">\(\beta\)</span>»</li>
</ul>
</section>
<section id="dgps-and-the-emergence-of-order" class="slide level2 crunch-title crunch-quarto-layout-panel title-09 crunch-quarto-figure">
<h2>DGPs and the Emergence of Order</h2>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[1,1]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<ul>
<li>Who can guess the state of this process after 10 steps, with 1 person?</li>
<li>10 people? 50? 100? (If they find themselves on the same spot, they stand on each other’s heads)</li>
<li>100 steps? 1000?</li>
</ul>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/random_walk.svg" class="quarto-figure quarto-figure-center" width="430"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="the-result-16-steps" class="slide level2">
<h2>The Result: 16 Steps</h2>

<img data-src="images/random-walk-16-1.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="the-result-64-steps" class="slide level2">
<h2>The Result: 64 Steps</h2>

<img data-src="images/random-walk-64-1.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="mathematicalscientific-modeling" class="slide level2 smaller crunch-title crunch-ul">
<h2>“Mathematical/Scientific Modeling”</h2>
<ul>
<li>Thing we observe (poking out of water): <strong>data</strong></li>
<li>Hidden but possibly discoverable via deeper dive (ecosystem under surface): <strong>DGP</strong></li>
</ul>
<!-- My sincere belief and definitely not an image forwarded to me unironically by a family member when I was a tween -->

<img data-src="images/fwds_from_grandma.jpg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="so-whats-the-problem" class="slide level2 crunch-title crunch-ul crunch-li-8 inline-90 text-90 scrollable">
<h2>So What’s the Problem?</h2>
<ul>
<li>Non-probabilistic models: High potential for being garbage
<ul>
<li><em>tldr: even if SUPER certain, using <span class="math inline">\(\Pr(\mathcal{H}) = 1-\varepsilon\)</span> with tiny <span class="math inline">\(\varepsilon\)</span> has literal life-saving advantages</em><sup>1</sup> <span class="citation" data-cites="finetti_probability_1972">(<a href="#/references" role="doc-biblioref" onclick="">Finetti 1972</a>)</span></li>
</ul></li>
<li>Probabilistic models: Getting there, still looking at “surface”
<ul>
<li>Of the <span class="math inline">\(N = 100\)</span> times we observed event <span class="math inline">\(X\)</span> occurring, event <span class="math inline">\(Y\)</span> also occurred <span class="math inline">\(90\)</span> of those times</li>
<li><span class="math inline">\(\implies \Pr(Y \mid X) = \frac{\#[X, Y]}{\#[X]} = \frac{90}{100} = 0.9\)</span></li>
</ul></li>
<li>Causal models: Does <span class="math inline">\(Y\)</span> happen <strong>because of</strong> <span class="math inline">\(X\)</span> happening? For that, need to start modeling <strong>what’s happening under the surface</strong> making <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> <strong>“pop up” together</strong> so often</li>
</ul>
<aside><ol class="aside-footnotes"><li id="fn1"><p>See <a href="#/appendix-zero-probabilities">Appendix Slide</a></p></li></ol></aside></section>
<section id="the-shallow-problem-of-causal-inference" class="slide level2 title-08">
<h2>The <em>Shallow</em> Problem of Causal Inference</h2>
<div class="columns">
<div class="column" style="width:65%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/ski-revenue-lawyers-1.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div><div class="column" style="width:35%;">
<div class="sourceCode" id="cb1" style="font-size: 72%;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="fu">cor</span>(ski_df<span class="sc">$</span>value, law_df<span class="sc">$</span>value)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>[1] 0.9921178</code></pre>
<div style="font-size: 50% !important;">
<p>(Data from Vigen, <a href="http://web.archive.org/web/20191006000802/http://tylervigen.com/view_correlation?id=29272" target="_blank">Spurious Correlations</a>)</p>
</div>
<p>This, however, is only a <em>mini-boss</em>. Beyond it lies the truly invincible <strong>FINAL BOSS</strong>… 🙀</p>
</div></div>
</section>
<section id="the-fundamental-problem-of-causal-inference" class="slide level2 crunch-title crunch-ul crunch-callout title-07 scrollable">
<h2>The <em>Fundamental</em> Problem of Causal Inference</h2>
<p>The only workable definition of «<span class="math inline">\(X\)</span> causes <span class="math inline">\(Y\)</span>»:</p>
<div title="<i class='bi bi-info-circle pe-1'></i> Defining Causality [@hume_treatise_1739, ruining everything as usual 😤]">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong><i class="bi bi-info-circle pe-1"></i> Defining Causality <span class="citation" data-cites="hume_treatise_1739">(<a href="#/references" role="doc-biblioref" onclick="">Hume 1739</a>, ruining everything as usual 😤)</span></strong></p>
</div>
<div class="callout-content">
<p><span class="math inline">\(X\)</span> causes <span class="math inline">\(Y\)</span> if and only if:</p>
<ol type="1">
<li><span class="math inline">\(X\)</span> <em>temporally precedes</em> <span class="math inline">\(Y\)</span> and</li>
<li><ul>
<li>In <strong>two worlds</strong> <span class="math inline">\(W_0\)</span> and <span class="math inline">\(W_1\)</span> where</li>
<li>everything is exactly the same <strong>except that</strong> <span class="math inline">\(X = 0\)</span> in <span class="math inline">\(W_0\)</span> and <span class="math inline">\(X = 1\)</span> in <span class="math inline">\(W_1\)</span>,</li>
<li><span class="math inline">\(Y = 0\)</span> in <span class="math inline">\(W_0\)</span> and <span class="math inline">\(Y = 1\)</span> in <span class="math inline">\(W_1\)</span></li>
</ul></li>
</ol>
</div>
</div>
</div>
</div>
<ul>
<li>The problem? We live in <strong>one</strong> world, not two identical worlds simultaneously 😭</li>
</ul>
</section>
<section id="what-is-to-be-done" class="slide level2">
<h2>What Is To Be Done?</h2>

<img data-src="images/face_everything_and_rise.jpg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="probability" class="slide level2 crunch-title">
<h2>Probability++</h2>
<ul>
<li>Tools from prob/stats (RVs, CDFs, Conditional Probability) <strong>necessary but not sufficient</strong> for causal inference!</li>
<li>Example: Say we use DSAN 5100 tools to discover:
<ul>
<li>Probability that event <span class="math inline">\(E_1\)</span> occurs is <span class="math inline">\(\Pr(E_1) = 0.5\)</span></li>
<li>Probability that <span class="math inline">\(E_1\)</span> occurs <strong>conditional on</strong> another event <span class="math inline">\(E_0\)</span> occurring is <span class="math inline">\(\Pr(E_1 \mid E_0) = 0.75\)</span></li>
</ul></li>
<li>Unfortunately, we still <strong>cannot</strong> infer that the occurrence of <span class="math inline">\(E_0\)</span> <strong>causes</strong> an increase in the likelihood of <span class="math inline">\(E_1\)</span> occurring.</li>
</ul>
</section>
<section id="beyond-conditional-probability" class="slide level2 crunch-title text-90">
<h2>Beyond Conditional Probability</h2>
<ul>
<li>This issue (that <strong>conditional probabilities</strong> could not be interpreted causally) at first represented a kind of dead end for scientists interested in employing probability theory to study causal relationships…</li>
<li>Recent decades: researchers have built up an additional “layer” of modeling tools, augmenting existing machinery of probability to address causality head-on!</li>
<li><span class="citation" data-cites="pearl_causality_2000">Pearl (<a href="#/references" role="doc-biblioref" onclick="">2000</a>)</span>: Formal proofs that (<span class="math inline">\(\Pr\)</span> axioms) <span class="math inline">\(\cup\)</span> (<span class="math inline">\(\textsf{do}\)</span> axioms) <span class="math inline">\(\Rightarrow\)</span> causal inference procedures successfully recover causal effects</li>
</ul>
</section>
<section id="preview-do-calculus" class="slide level2 crunch-title crunch-math text-85 table-85 crunch-ul inline-90 math-90 crunch-li-6">
<h2>Preview: do-Calculus</h2>
<ul>
<li><em>Extends</em> core of probability to incorporate causality, via <span class="math inline">\(\textsf{do}\)</span> operator</li>
<li><span class="math inline">\(\textsf{do}(X = 5)\)</span> is a “special” <strong>event</strong>, representing <strong>intervention in DGP</strong> to <strong>force</strong> <span class="math inline">\(X \leftarrow 5\)</span>… <span class="math inline">\(\textsf{do}(X = 5)\)</span> <strong>not the same event</strong> as <span class="math inline">\(X = 5\)</span>!</li>
</ul>
<table class="caption-top">
<colgroup>
<col style="width: 46%">
<col style="width: 2%">
<col style="width: 52%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><span class="math inline">\(X = 5\)</span></th>
<th style="text-align: center;"><span class="math inline">\(\neq\)</span></th>
<th style="text-align: center;"><span class="math inline">\(\textsf{do}(X = 5)\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>Observing</em> that <span class="math inline">\(X\)</span> took on value 5 (for some possibly-unknown reason)</td>
<td style="text-align: center;"><span class="math inline">\(\neq\)</span></td>
<td style="text-align: center;"><em>Intervening</em> to force <span class="math inline">\(X \leftarrow 5\)</span>, all else in DGP remaining the same (intervention then “flows” through rest of DGP)</td>
</tr>
</tbody>
</table>
<ul>
<li><p>Probably the most difficult thing in 5650 to wrap head around</p></li>
<li><p>“Special”: <span class="math inline">\(\Pr(\textsf{do}(X = 5))\)</span> <em>not</em> well-defined, only <span class="math inline">\(\Pr(Y = 6 \mid \textsf{do}(X = 5))\)</span></p></li>
<li><p>To emphasize special-ness, we may use notation like:</p>
<p><span class="math display">\[
\Pr(Y = 6 \mid \textsf{do}(X = 5)) \equiv \textstyle \Pr_{\textsf{do}(X = 5)}(Y = 6)
\]</span></p>
<p>to avoid confusion with “normal” events</p></li>
</ul>
</section>
<section id="causal-world-unlocked-with-great-power-comes-great-responsibility" class="slide level2 title-08 crunch-title crunch-ul">
<h2>Causal World Unlocked 😎 (With Great Power Comes Great Responsibility…)</h2>
<ul>
<li>With <span class="math inline">\(\textsf{do}(\cdot)\)</span> in hand… (Alongside DGP satisfying axioms slightly more strict than core probability axioms)</li>
<li>We <em>can</em> make causal inferences from similar pair of facts! If:
<ul>
<li>Probability that event <span class="math inline">\(E_1\)</span> occurs is <span class="math inline">\(\Pr(E_1) = 0.5\)</span>,</li>
<li>The probability that <span class="math inline">\(E_1\)</span> occurs <strong>conditional on</strong> the event <span class="math inline">\(\textsf{do}(E_0)\)</span> occurring is <span class="math inline">\(\Pr(E_1 \mid \textsf{do}(E_0)) = 0.75\)</span>,</li>
</ul></li>
<li><strong>Now</strong> we can actually infer that the occurrence of <span class="math inline">\(E_0\)</span> <strong>caused</strong> an increase in the likelihood of <span class="math inline">\(E_1\)</span> occurring!</li>
</ul>
</section>
<section id="ulysses-and-the-computational-sirens" class="slide level2 smaller crunch-title">
<h2>Ulysses and the [Computational] Sirens</h2>

<img data-src="images/sirens.jpg" class="quarto-figure quarto-figure-center r-stretch"></section></section>
<section>
<section id="your-first-pgm" class="title-slide slide level1 smaller crunch-title title-10 crunch-ul crunch-li-8 crunch-quarto-figure crunch-img crunch-p center" data-stack-name="PGMs">
<h1>Your First PGM!</h1>

<img data-src="images/medical.jpg" class="r-stretch quarto-figure-center"><p class="caption"><a href="http://probmods.org/chapters/dependence.html">Image source</a></p><ul>
<li><i class="bi bi-1-circle"></i> Which of the variables (ovals) are <strong>observed</strong>? Which are <strong>latent</strong>?</li>
<li><i class="bi bi-2-circle"></i> What do you think the arrows represent?</li>
<li><i class="bi bi-3-circle"></i> Can we use this to find the <strong>“root cause”</strong> of (e.g.) observed <strong>chest pain</strong>? Or conversely, to <strong>predict</strong> possible ↑ in likelihood of chest pain if we start smoking?</li>
</ul>
</section>
<section id="bayesian-inference-but-with-pictures" class="slide level2 title-09 crunch-title crunch-ul crunch-li-8 crunch-callout text-90 inline-90 scrollable">
<h2>Bayesian Inference but with Pictures</h2>
<p>A <strong>Probabilistic Graphical Model (PGM)</strong> provides us with:</p>
<ul>
<li>A <strong>formal</strong>-mathematical…</li>
<li>But also easily <strong>visualizable</strong> (by construction)…</li>
<li>Representation of a <strong>data-generating process (DGP)!</strong></li>
</ul>
<p>Example: Let’s model how <strong>weather</strong> <span class="math inline">\(W\)</span> affects <strong>evening plans</strong> <span class="math inline">\(Y\)</span>: the choice between <strong>going to a party</strong> or <strong>staying in to watch movies</strong></p>
<div title="<i class='bi bi-info-circle'></i> The Partier's Dilemma">
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong><i class="bi bi-info-circle"></i> The Partier’s Dilemma</strong></p>
</div>
<div class="callout-content">
<ol type="1">
<li>A person <span class="math inline">\(i\)</span> wakes up with some initial affinity for partying: <span class="math inline">\(\Pr(Y_i = \textsf{Go})\)</span></li>
<li><span class="math inline">\(i\)</span> then goes to their window and observes the weather <span class="math inline">\(W_i\)</span> outside:
<ol type="i">
<li>If the weather is <strong>sunny</strong>, <span class="math inline">\(i\)</span>’s affinity increases: <span class="math inline">\(\Pr(Y_i = \textsf{Go} \mid W_i = \textsf{Sun}) &gt; \Pr(Y = \textsf{Go})\)</span></li>
<li>Otherwise, if it is <strong>rainy</strong>, <span class="math inline">\(i\)</span>’s affinity decreases: <span class="math inline">\(\Pr(Y_i = \textsf{Go} \mid W_i = \textsf{Rain}) &lt; \Pr(Y = \textsf{Go})\)</span></li>
</ol></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="two-main-building-blocks" class="slide level2 crunch-title title-09 inline-95 math-80 crunch-ul crunch-math crunch-li-8 text-90">
<h2>Two Main “Building Blocks”</h2>
<ul>
<li><strong>Nodes</strong> like <span class="math inline">\(\require{enclose}\enclose{circle}{\kern .01em ~X~\kern .01em}\)</span> denote <strong>Random Variables</strong></li>
</ul>
<p><span class="math display">\[
\boxed{\require{enclose}\enclose{circle}{\kern .01em ~X~\kern .01em}} \simeq \boxed{ \begin{array}{c|cc}x &amp; \textsf{Tails} &amp; \textsf{Heads} \\\hline \Pr(X = x) &amp; 0.5 &amp; 0.5\end{array}}
\]</span></p>
<ul>
<li><strong>Edges</strong> like <span class="math inline">\(\require{enclose}\enclose{circle}{\kern .01em ~X~\kern .01em} \rightarrow \; \enclose{circle}{\kern.01em Y~\kern .01em}\)</span> denote <strong>relationships</strong> between RVs
<ul>
<li>What an edge “means” can get [ontologically] tricky!</li>
<li>Retain sanity by just remembering: an edge <span class="math inline">\(\require{enclose}\enclose{circle}{\kern .01em ~X~\kern .01em} \rightarrow \; \enclose{circle}{\kern.01em Y~\kern .01em}\)</span> is included in our PGM if we “care about” modeling the <strong>conditional probability table (CPT)</strong> of <span class="math inline">\(Y\)</span> w.r.t. <span class="math inline">\(X\)</span></li>
</ul></li>
</ul>
<p><span class="math display">\[
\require{enclose}\boxed{ \enclose{circle}{\kern .01em ~X~\kern .01em} \rightarrow \; \enclose{circle}{\kern.01em Y~\kern .01em} } \simeq \boxed{
  \begin{array}{c|cc}
  x &amp; \Pr(Y = \textsf{Lose} \mid X = x) &amp; \Pr(Y = \textsf{Win} \mid X = x) \\\hline
  \textsf{Tails} &amp; 0.8 &amp; 0.2 \\
  \textsf{Heads} &amp; 0.5 &amp; 0.5
  \end{array}
}
\]</span></p>
</section>
<section id="pgm-for-the-partiers-dilemma" class="slide level2 smaller crunch-title crunch-ul table-90">
<h2>PGM for the Partier’s Dilemma</h2>
<ul>
<li>A node <span class="math inline">\(\pnode{W}\)</span> denoting RV <span class="math inline">\(W\)</span>, which can take on values in <span class="math inline">\(\mathcal{R}_W = \{\textsf{Sun}, \textsf{Rain}\}\)</span>,</li>
<li>A node <span class="math inline">\(\pnode{Y}\)</span> denoting RV <span class="math inline">\(Y\)</span>, which can take on values in <span class="math inline">\(\mathcal{R}_Y = \{\textsf{Go}, \textsf{Stay}\}\)</span>, and</li>
<li>An edge <span class="math inline">\(\pedge{W}{Y}\)</span> representing the following relationship between <span class="math inline">\(W\)</span> and <span class="math inline">\(Y\)</span>:
<ul>
<li><span class="math inline">\(\Pr(Y = \textsf{Go} \mid W = \textsf{Sun}) = 0.8\)</span></li>
<li><span class="math inline">\(\Pr(Y = \textsf{Stay} \mid W = \textsf{Sun}) = 0.2\)</span></li>
<li><span class="math inline">\(\Pr(Y = \textsf{Go} \mid W = \textsf{Rain}) = 0.1\)</span></li>
<li><span class="math inline">\(\Pr(Y = \textsf{Stay} \mid W = \textsf{Rain}) = 0.9\)</span></li>
</ul></li>
</ul>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[1,1]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-partier-dgp" class="quarto-float quarto-figure quarto-figure-center" data-fig-align="center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-partier-dgp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="images/pgm.svg" class="quarto-figure quarto-figure-center" width="400">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-partier-dgp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Our PGM of the Partier’s Dilemma
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-partier-cpt" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-partier-cpt-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;"></th>
<th style="text-align: center;"><span class="math inline">\(\Pr(Y = \textsf{Stay} \mid W)\)</span></th>
<th style="text-align: center;"><span class="math inline">\(\Pr(Y = \textsf{Go} \mid W)\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;"><span class="math inline">\(W = \textsf{Sun}\)</span></td>
<td style="text-align: center;">0.2</td>
<td style="text-align: center;">0.8</td>
</tr>
<tr class="even">
<td style="text-align: right;"><span class="math inline">\(W = \textsf{Rain}\)</span></td>
<td style="text-align: center;">0.9</td>
<td style="text-align: center;">0.1</td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-partier-cpt-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: The Conditional Probability Table (CPT) for the edge <span class="math inline">\(\pedge{W}{Y}\)</span> in <a href="#/fig-partier-dgp" class="quarto-xref">Figure&nbsp;1</a>
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="observed-vs.-latent-nodes" class="slide level2">
<h2>Observed vs.&nbsp;Latent Nodes</h2>
<ul>
<li>PGMs help us make <strong>valid (Bayesian) inferences</strong> about the world in the face of <strong>incomplete information</strong>!</li>
<li>Key remaining tool: separation of nodes into two categories:
<ul>
<li><strong>Observed nodes</strong> (shaded)</li>
<li><strong>Latent nodes</strong> (unshaded)</li>
</ul></li>
<li><span class="math inline">\(\Rightarrow\)</span> Can use our PGM as a <strong>weather-inference machine!</strong></li>
<li>If we <strong>observe</strong> <span class="math inline">\(i\)</span> at a party, what can we infer about the <strong>weather</strong> outside?</li>
</ul>
</section>
<section id="observed-partier-latent-weather" class="slide level2 title-09">
<h2>Observed Partier, Latent Weather</h2>
<ul>
<li>We can draw this situation as a PGM with <strong>shaded</strong> and <strong>unshaded nodes</strong>, distinguishing what we <strong>know</strong> from what we’d like to <strong>infer</strong>:</li>
</ul>

<img data-src="images/pgm_yobs.svg" class="quarto-figure quarto-figure-center r-stretch" width="400"><table class="caption-top">
<colgroup>
<col style="width: 18%">
<col style="width: 64%">
<col style="width: 18%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: center;">❓</td>
<td style="text-align: center;">&nbsp;</td>
<td style="text-align: center;">✅</td>
</tr>
</tbody>
</table>
<ul>
<li>And we can now use Bayes’ Rule to compute how observed information (<span class="math inline">\(i\)</span> at party <span class="math inline">\(\Rightarrow [Y = \textsf{Go}]\)</span>) “flows” back into <span class="math inline">\(W\)</span></li>
</ul>
</section>
<section id="computation-via-bayes-rule" class="slide level2 smaller crunch-title crunch-ul crunch-math math-80">
<h2>Computation via Bayes’ Rule</h2>
<ul>
<li>Bayes’ Rule, <span class="math inline">\(\Pr(A \mid B) = \frac{\Pr(B \mid A)\Pr(A)}{\Pr(B)}\)</span>, tells us how to use info about <span class="math inline">\(\Pr(B \mid A)\)</span> to obtain info about <span class="math inline">\(\Pr(A \mid B)\)</span>!</li>
<li>We use it to obtain a distribution for <span class="math inline">\(W\)</span> <strong>updated to incorporate</strong> new info <span class="math inline">\([Y = \textsf{Go}]\)</span>:</li>
</ul>
<p><span class="math display">\[
\begin{align*}
&amp;\Pr(W = \textsf{Sun} \mid Y = \textsf{Go})
= \frac{\Pr(Y = \textsf{Go} \mid W = \textsf{Sun}) \Pr(W = \textsf{Sun})}{\Pr(Y = \textsf{Go})} \\
=\, &amp;\frac{\Pr(Y = \textsf{Go} \mid W = \textsf{Sun}) \Pr(W = \textsf{Sun})}{\Pr(Y = \textsf{Go} \mid W = \textsf{Sun}) \Pr(W = \textsf{Sun}) + \Pr(Y = \textsf{Go} \mid W = \textsf{Rain}) \Pr(W = \textsf{Rain})}
\end{align*}
\]</span></p>
<ul>
<li>Plug in info from CPT to obtain our new (conditional) probability of interest:</li>
</ul>
<p><span class="math display">\[
\begin{align*}
\Pr(W = \textsf{Sun} \mid Y = \textsf{Go}) &amp;= \frac{(0.8)(0.5)}{(0.8)(0.5) + (0.1)(0.5)} = \frac{0.4}{0.4 + 0.05} \approx 0.89
\end{align*}
\]</span></p>
<ul>
<li>We’ve learned something interesting! Observing <span class="math inline">\(i\)</span> at the party <span class="math inline">\(\leadsto\)</span> probability of sun jumps from <span class="math inline">\(0.5\)</span> (<strong>“prior”</strong> estimate of <span class="math inline">\(W\)</span>, best guess without any other relevant info) to <span class="math inline">\(0.89\)</span> (<strong>“posterior”</strong> estimate of <span class="math inline">\(W\)</span>, best guess after incorporating relevant info).</li>
</ul>
</section>
<section id="importance-of-observed-vs.-latent-distinction" class="slide level2 smaller crunch-title title-10">
<h2>Importance of Observed vs.&nbsp;Latent Distinction!</h2>
<ul>
<li>Across many different fields, hidden stumbling-block in your project may be <strong>failure to model this distinction</strong> and pursue its implications!</li>
</ul>
<div id="fig-fence-dog" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-fence-dog-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<center>
<video id="video_shortcode_videojs_video2" height="400" class="video-js vjs-default-skin " controls="" preload="auto" data-setup="{}" title=""><source src="https://jpj.georgetown.domains/dsan5650-scratch/fence_dog.mp4"></video>
</center>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-fence-dog-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Your model failing to achieve its goal bc you haven’t yet distinguished observed vs.&nbsp;latent variables
</figcaption>
</figure>
</div>
</section>
<section id="example-from-cognitive-neuroscience-visual-perception" class="slide level2 smaller crunch-title title-08 crunch-ul crunch-quarto-figure crunch-quarto-layout-panel">
<h2>Example from Cognitive Neuroscience: Visual Perception</h2>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[55,45]">
<div class="quarto-layout-row quarto-layout-valign-center">
<div id="cog-neuro-text" class="quarto-layout-cell" style="flex-basis: 55.0%;justify-content: flex-start;">
<ul>
<li>We “see” <strong>3D objects</strong> like a basketballs, but our eyes are (curved) <strong>2D surfaces!</strong></li>
<li><span class="math inline">\(\Rightarrow\)</span> Our brains <strong>construct</strong> 3D environment by combining 2D info (<strong>observed</strong> photons-hitting-light-cones) with <strong>latent</strong> heuristic info:
<ul>
<li>Instantaneous <strong>Binocular Disparity</strong>, fusing info from <strong>two</strong> slightly-offset eyes,</li>
<li>Short-term <strong>Motion</strong> <a href="https://en.wikipedia.org/wiki/Parallax"><strong>Parallax</strong></a>: How does object shift over short temporal “windows” of movement?</li>
<li>Long-term mental models (orange-ish circle with this line pattern is usually a basketball, which is usually this big, etc.)</li>
</ul></li>
</ul>
</div>
<div id="cog-neuro-img" class="quarto-layout-cell" style="flex-basis: 45.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/parallax.jpg"></p>
<figcaption><a href="https://royalsocietypublishing.org/doi/10.1098/rstb.2015.0256">Image source</a> (a very cool article!)</figcaption>
</figure>
</div>
</div>
</div>
</div>
<ul>
<li>Similar examples in many other fields <span class="math inline">\(\leadsto\)</span> science is a strange waltz of general models vs.&nbsp;field-specific details, but there’s one model that is <strong>infinitely helpful</strong> imo…</li>
</ul>
</section>
<section id="hidden-markov-models-hmms-are-our-ur-pgms" class="slide level2 smaller crunch-title title-09 crunch-quarto-figure crunch-quarto-layout-cell callout-fw">
<h2>Hidden Markov Models (HMMs) Are Our Ur-PGMs!</h2>
<ul>
<li>Using <a href="https://blogs.transparent.com/german/the-german-prefix-ur/">“Ur”</a> in the same sense as <a href="https://kieranhealy.org/blog/archives/2015/06/12/americas-ur-choropleths/">“America’s Ur-Choropleths”</a>…</li>
<li>HMMs are our “Ur-Models” for Computational <span class="barrio-jj"><strong>Social</strong> Science</span> specifically</li>
</ul>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[3,1]">
<div class="quarto-layout-row quarto-layout-valign-center">
<div class="quarto-layout-cell" style="flex-basis: 75.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-right">
<figure>
<p><img data-src="images/hmm.svg" class="quarto-figure quarto-figure-right" width="700"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-left">
<figure>
<p><img data-src="images/mood_crop.jpg" class="quarto-figure quarto-figure-left" width="100"></p>
</figure>
</div>
</div>
</div>
</div>
<ul>
<li>Let’s consider an extremely currently-popular strand of CSS research, and step through why (a) it may be harder than it initially seems, but (b) we can use HMMs to “organize”/manage/visualize the complexity!</li>
</ul>
<aside class="notes">
<p>As in, how America’s Ur-Choropleths are two visualizations you can keep at hand before launching into a specific nation-wide choropleth about a specific issue!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="studying-fake-news" class="slide level2 smaller callout-fw callout-valign crunch-img crunch-p crunch-quarto-figure crunch-title crunch-callout text-70 crunch-ul crunch-li-5 crunch-quarto-layout-panel">
<h2>Studying “Fake News”</h2>
<div class="callout callout-none no-icon callout-style-simple">
<div class="callout-body">
<div class="callout-content">
<div id="callout-container">
<div style="float: left; margin-right: 12px; margin-bottom: -2px">
<p><img data-src="images/real-tired.png" width="50"></p>
</div>
<p>Studying “fake news” with ML and/or Deep Learning and/or Big Data is very popular in Computational Social Science: let’s use HMMs to see why it might be more… difficult/complicated than it seems at first 🙈</p>
</div>
</div>
</div>
</div>
<ul>
<li>The (implicit) model in studies like <span class="citation" data-cites="iyengar_news_2010">Iyengar and Kinder (<a href="#/references" role="doc-biblioref" onclick="">2010</a>)</span> is something like:</li>
</ul>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[65,35]" data-layout-align="center">
<div class="quarto-layout-row quarto-layout-valign-center">
<div id="iyengar-text" class="quarto-layout-cell" style="flex-basis: 65.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/hmm_media.svg" class="quarto-figure quarto-figure-center" width="520"></p>
</figure>
</div>
<ul>
<li>Thus allowing results to be summarized in a table like:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/iyengar_results.jpg" class="quarto-figure quarto-figure-center" width="400"></p>
</figure>
</div>
</div>
<div id="iyengar-img" class="quarto-layout-cell" style="flex-basis: 35.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/iyengar_kinder.jpg" style="width:60.0%"></p>
<figcaption><span class="citation" data-cites="iyengar_news_2010">Iyengar and Kinder (<a href="#/references" role="doc-biblioref" onclick="">2010</a>)</span></figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="the-devil-in-the-details-i" class="slide level2 smaller crunch-title lh-adjust">
<h2>The Devil in the Details I</h2>
<blockquote>
<p>Residents of the <span class="jjbox">New Haven, Connecticut area</span> participated in one of two experiments, each of which spanned <span class="jjbox">six consecutive days</span> […] took place in <span class="jjbox">November 1980</span>, shortly after the <span class="jjbox">presidential election</span></p>
</blockquote>
<blockquote>
<p>We measured <strong>problem importance</strong> with four questions that appeared in both the pretreatment and posttreatment questionnaires:</p>
<ul>
<li>Please <span class="jjbox">indicate how important</span> you consider these problems to be.</li>
<li>Should the federal government <span class="jjbox">do more</span> to develop solutions to these problems, even if it means <span class="jjbox">raising taxes</span>?</li>
<li>How much do you yourself <span class="jjbox">care</span> about these problems?</li>
<li><span class="jjbox">These days</span> how much do you <span class="jjbox">talk</span> about these problems?</li>
</ul>
</blockquote>
</section>
<section id="the-devil-in-the-details-ii" class="slide level2">
<h2>The Devil in the Details II</h2>

<img data-src="images/iyengar_experiment.jpg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="randomization-and-fine-tuned-treatment" class="slide level2 smaller title-10 crunch-quarto-figure crunch-quarto-layout-panel">
<h2>Randomization and Fine-Tuned Treatment</h2>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[50,50]">
<div class="quarto-layout-row quarto-layout-valign-center">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/iyengar_treatment.jpg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/iyengar_control.jpg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<ul>
<li>…These are the types of things we usually <strong>don’t</strong> have control over as data scientists (we’re just handed a <code>.csv</code>!)</li>
</ul>
</section>
<section id="lets-model-it" class="slide level2">
<h2>Let’s Model It!</h2>
</section>
<section id="the-final-piece-plate-notation" class="slide level2 crunch-title crunch-quarto-figure">
<h2>The Final Piece: Plate Notation</h2>
<ul>
<li>For describing general distributions, there is often a “single node generating a bunch of nodes” structure:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/hmm_clusters_single_dist.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
<ul>
<li>PGM notation has a built-in tool for this: <strong>plates!</strong></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/pgm_plates.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</section>
<section id="crucial-css-model-we-can-now-dive-into" class="slide level2">
<h2>Crucial CSS Model We Can Now Dive Into!</h2>

<img data-src="images/lda_pgm.webp" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://www.markovml.com/blog/latent-dirichlet-allocation">Image source</a></p></section>
<section id="what-does-this-give-us" class="slide level2">
<h2>What Does This Give Us?</h2>

<img data-src="images/lda.jpg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="references" class="slide level2 smaller scrollable">
<h2>References</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-finetti_probability_1972" class="csl-entry" role="listitem">
Finetti, Bruno de. 1972. <em>Probability, <span>Induction</span> and <span>Statistics</span>: <span>The Art</span> of <span>Guessing</span></em>. J. Wiley.
</div>
<div id="ref-hume_treatise_1739" class="csl-entry" role="listitem">
Hume, David. 1739. <em>A <span>Treatise</span> of <span>Human Nature</span>: <span>Being</span> an <span>Attempt</span> to <span>Introduce</span> the <span>Experimental Method</span> of <span>Reasoning Into Moral Subjects</span>; and <span>Dialogues Concerning Natural Religion</span></em>. Longmans, Green.
</div>
<div id="ref-iyengar_news_2010" class="csl-entry" role="listitem">
Iyengar, Shanto, and Donald R. Kinder. 2010. <em>News <span>That Matters</span>: <span>Television</span> &amp; <span>American Opinion</span></em>. University of Chicago Press.
</div>
<div id="ref-koller_probabilistic_2009" class="csl-entry" role="listitem">
Koller, Daphne, and Nir Friedman. 2009. <em>Probabilistic <span>Graphical Models</span>: <span>Principles</span> and <span>Techniques</span></em>. MIT Press. <a href="https://www.dropbox.com/scl/fi/6qmnr9feizngaq4005isj/Probabilistic-Graphical-Models.pdf?rlkey=4803nmsffh4xtsdfiji8jppb1&amp;dl=1">https://www.dropbox.com/scl/fi/6qmnr9feizngaq4005isj/Probabilistic-Graphical-Models.pdf?rlkey=4803nmsffh4xtsdfiji8jppb1&amp;dl=1</a>.
</div>
<div id="ref-pearl_causality_2000" class="csl-entry" role="listitem">
Pearl, Judea. 2000. <em>Causality: <span>Models</span>, <span>Reasoning</span>, and <span>Inference</span></em>. Cambridge University Press. <a href="https://www.dropbox.com/scl/fi/4kfpro4gpx7tg55fwd7qt/Judea-Pearl-Causality_-Models-Reasoning-and-Inference.pdf?rlkey=f0abw0cgmsyiegx6xapq5z7j2&amp;dl=1">https://www.dropbox.com/scl/fi/4kfpro4gpx7tg55fwd7qt/Judea-Pearl-Causality_-Models-Reasoning-and-Inference.pdf?rlkey=f0abw0cgmsyiegx6xapq5z7j2&amp;dl=1</a>.
</div>
</div>
</section>
<section id="appendix-zero-probabilities" class="slide level2 smaller">
<h2>Appendix: Zero Probabilities</h2>
<p>From <span class="citation" data-cites="koller_probabilistic_2009">Koller and Friedman (<a href="#/references" role="doc-biblioref" onclick="">2009</a>)</span>, pp.&nbsp;66-67:</p>
<blockquote>
<p><strong>Zero probabilities</strong>: A common mistake is to assign a probability of zero to an event that is extremely unlikely, but not impossible. The problem is that one can never condition away a zero probability, no matter how much evidence we get. When an event is unlikely but not impossible, giving it probability zero is guaranteed to lead to irrecoverable errors. For example, in one of the early versions of the the Pathfinder system (box 3.D), <strong>10 percent of the misdiagnoses were due to zero probability estimates given by the expert to events that were unlikely but not impossible.</strong></p>
</blockquote>
<p><a href="#/so-whats-the-problem">← Back to slide</a></p>


</section></section>

    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p>DSAN 5650 Week 2: Probabilistic Graphical Models (PGMs)</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/simplemenu/simplemenu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'simplemenu': {"menubarclass":"menubar","menuclass":"menu","activeclass":"active","activeelement":"li","flat":true,"barhtml":{"header":"<div class='menubar'><span style='position: absolute; left: 8; padding-left: 8px;'><a href='./index.html'>&larr; Return to Notes</a></span><ul class='menu'></ul></div>","footer":""},"scale":0.5},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, Simplemenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
              // target, if specified
              link.setAttribute("target", "_blank");
              if (link.getAttribute("rel") === null) {
                link.setAttribute("rel", "noopener");
              }
              // default icon
              link.classList.add("external");
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    <script>videojs(video_shortcode_videojs_video1);</script>
    <script>videojs(video_shortcode_videojs_video2);</script>
    

</body></html>